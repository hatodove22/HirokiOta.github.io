# 論文更新マニュアル

このドキュメントでは、ポートフォリオサイトの論文を追加・更新する手順を詳しく説明します。

## 目次

- [概要](#概要)
- [用意しておく情報リスト](#用意しておく情報リスト)
- [更新手順](#更新手順)
- [各手順の詳細](#各手順の詳細)
- [よくある質問（FAQ）](#よくある質問faq)

---

## 概要

論文は `content/papers/` ディレクトリ配下のファイルで管理されています。各論文は以下のディレクトリ構造を持ちます：

```
content/papers/
└── paper-{id}-{slug}/
    ├── info/
    │   └── metadata.json       # メタデータ（推奨：info/metadata.json）
    └── metadata.json            # メタデータ（代替：直下のmetadata.json）
```

**注意**: 論文データはメタデータのみで管理され、本文（Markdownファイル）はありません。すべての情報は `metadata.json` に記載します。

**ワークフロー**: このポートフォリオは基本的にAIが更新することを前提としています。ユーザーは論文PDFと必要最低限の情報をAIに提供し、AIがPDFから情報を抽出して本文内容（abstractなど）も含めて自動で更新作業を行います。

---

## 用意しておく情報リスト

このポートフォリオは基本的にAIが更新することを前提としています。以下のリストは、ユーザーが用意すべき情報と、AIが適切に設定すべき情報を分けて記載しています。

### ユーザーが用意すべき情報リスト

論文を追加・更新する際に、ユーザーが提供すべき情報です。

#### 論文ファイル

- [ ] **論文PDFファイル**
  - 論文のPDFファイルを提供
  - AIがPDFから情報を抽出するため、可能な限り完全なPDFを提供してください

#### 基本情報（PDFから抽出が困難な場合のみ）

以下の情報はPDFから自動抽出できない場合、またはPDFに含まれていない場合にユーザーが提供してください。

- [ ] **カテゴリ情報**（`categories`）
  - `scope`: `"国内"`, `"国際"`, `"学位論文"` のいずれか
  - `type`: `"ジャーナル"`, `"会議"`, `"ワークショップ"` のいずれか
  - `peerReview`: `"査読付き"`, `"査読なし"` のいずれか
  - 例: `{ "scope": "国際", "type": "会議", "peerReview": "査読付き" }`

#### 関連情報

- [ ] **関連プロジェクトID**（プロジェクトデータに存在するIDの配列、該当がない場合は空配列）
  - 例: `["1", "2"]` または `[]`
- [ ] **言語設定**（`"ja"`, `"en"`, または `"both"`）
  - 日英両方で表示する場合は `"both"` を指定
  - デフォルト: `"both"` を推奨

#### リンク情報（PDFに含まれない場合）

- [ ] **スライドURL**（オプション）
  - 例: `"https://example.com/slides.pdf"`
- [ ] **ポスターURL**（オプション）
  - 例: `"https://example.com/poster.pdf"`
- [ ] **論文URL**（PDFに含まれない場合、オプション）
  - 例: `"https://example.com/paper"`

#### その他

- [ ] **受賞歴**（該当がある場合、オプション）
  - 例: `"Best Paper Award"`, `"CVPR 2025 Highlight"` など

---

### AIが適切に設定すべき情報リスト

以下の情報は、AIがユーザーが提供した情報（PDFなど）を基に自動的に生成・設定します。

#### PDFから自動抽出する情報

AIがPDFから抽出すべき情報：

- [ ] **タイトル**（`title`）
  - PDFのタイトルページから抽出
  - 例: `"UMotion: Uncertainty-driven Human Motion Estimation"`
- [ ] **著者名**（`authors`）
  - PDFから著者リストを抽出
  - 自分の名前を `**太田裕紀**` のように `**` で囲んで太字表示にする
  - 例: `"**太田裕紀**, 田中太郎, 山田花子"`
- [ ] **掲載先**（`venue`）
  - 会議名、ジャーナル名などを抽出
  - 例: `"CVPR"`, `"IEEE Transactions on Haptics"` など
- [ ] **発表年**（`year`）
  - PDFから発表年を抽出（数値で設定）
  - 例: `2025`
- [ ] **Abstract**（`abstract`）
  - PDFからabstractを抽出し、日英両方で設定
  - 日本語がない場合は、AIが英語から翻訳して生成
  - 例: `{ "ja": "日本語のabstract", "en": "English abstract" }`
- [ ] **キーワード**（`keywords`）
  - PDFからキーワードを抽出（配列形式）
  - 例: `["Human Motion", "Inertial Sensors", "Ultra-wideband"]`
- [ ] **DOI**（`doi`）
  - PDFにDOIが含まれている場合、抽出
  - 例: `"10.1000/example"` または `"https://doi.org/10.1000/example"`
- [ ] **論文URL**（`url`）
  - PDFにURLが含まれている場合、抽出
  - 例: `"https://arxiv.org/abs/2505.09393"`
- [ ] **PDF URL**（`pdfUrl`）
  - PDFファイルがオンラインで公開されている場合、URLを設定
  - 例: `"https://example.com/paper.pdf"`

#### 識別子・パス情報

- [ ] **ID**（一意の論文ID）
  - AIが既存のIDを確認し、重複しない一意のIDを生成
  - 例: `"paper1"`, `"paper2"` など
- [ ] **スラッグ**（URL用の英数字）
  - AIが論文タイトルから適切なスラッグを生成
  - 既存のスラッグと重複しないことを確認
  - 例: `"umotion"`, `"fresnel-shape"` など
- [ ] **ディレクトリ名**（論文フォルダ名）
  - AIが `paper-{id}-{slug}` の形式でディレクトリ名を生成
  - 例: `paper-1-umotion`
- [ ] **ファイルパス**（PDFファイルの配置先など）
  - AIがディレクトリ構造に基づいて適切なパスを生成
  - 例: PDFファイルを `content/papers/paper-1-umotion/` に配置

#### 自動設定項目

- [ ] **`status`**（公開状態）
  - デフォルト: `"published"`
  - 下書きの場合は `"draft"` を設定
- [ ] **ディレクトリ構造の作成**
  - AIが以下のディレクトリ構造を自動生成：
    ```
    paper-{id}-{slug}/
    ├── info/
    │   └── metadata.json
    └── (PDFファイルを配置)
    ```

#### AIの命名規則

AIは以下の規則に従って識別子を生成します：

1. **IDの生成**
   - 既存の論文IDを確認
   - 最大のID番号に1を加えた値を新しいIDとして設定
   - 例: 既存の最大IDが `"paper15"` の場合、新規IDは `"paper16"`
   - ID形式: `"paper{番号}"`（例: `"paper1"`, `"paper2"`）

2. **スラッグの生成**
   - 論文タイトル（英語）から生成
   - 小文字に変換
   - スペースや特殊文字をハイフンに変換
   - 既存のスラッグと重複しないことを確認
   - 例: "UMotion: Uncertainty-driven Human Motion Estimation" → `"umotion-uncertainty-driven-human-motion-estimation"`（長すぎる場合は短縮）

3. **ディレクトリ名の生成**
   - `paper-{id}-{slug}` の形式
   - 例: ID `"paper1"`, スラッグ `"umotion"` → `paper-1-umotion`

#### AIのPDF処理規則

AIは以下の規則に従ってPDFから情報を抽出します：

1. **タイトル抽出**
   - PDFの最初のページからタイトルを抽出
   - タイトルページが明確でない場合は、メタデータから抽出を試みる

2. **著者名抽出**
   - PDFから著者リストを抽出
   - 自分の名前（「太田裕紀」）が含まれている場合、自動的に `**太田裕紀**` のように `**` で囲む

3. **Abstract抽出**
   - PDFからabstractセクションを抽出
   - 日本語のabstractがない場合は、英語から翻訳して生成

4. **キーワード抽出**
   - PDFにキーワードセクションがある場合、抽出
   - ない場合は、abstractから重要キーワードを抽出

---

### チェックリスト

更新作業を開始する前に、以下を確認してください：

#### ユーザー側の確認事項

- [ ] 論文PDFファイルが提供されているか
- [ ] カテゴリ情報（scope, type, peerReview）が指定されているか
- [ ] 関連プロジェクトIDが正しいか（プロジェクトデータに存在するか）
- [ ] 言語設定が適切か（通常は `"both"` を推奨）
- [ ] スライドURL、ポスターURLなど、PDFに含まれない情報が必要な場合は提供されているか

#### AI側の確認事項

- [ ] スラッグが既存論文と重複していないか
- [ ] IDが一意であるか（既存のIDと重複していないか）
- [ ] ディレクトリ構造が正しく作成されているか
- [ ] PDFから情報が正しく抽出されているか（タイトル、著者、abstractなど）
- [ ] メタデータの必須フィールドがすべて設定されているか
- [ ] 著者名に自分の名前が含まれている場合、`**` で囲まれているか
- [ ] Abstractが日英両方で設定されているか（日本語がない場合は英語から翻訳されているか）
- [ ] ファイルパスが正しく設定されているか

---

## 更新手順

### 1. メタデータの更新
AIが `metadata.json`（または `info/metadata.json`）を作成・編集して、論文の基本情報（タイトル、著者、掲載先など）を更新します。

### 2. 関連リンクの追加・更新
AIがメタデータ内のリンクフィールド（`url`, `pdfUrl`, `doi`, `slidesUrl`, `posterUrl`など）を更新します。

### 3. 関連プロジェクトの紐付け
AIが `relatedProjects` フィールドに、ユーザーが指定した関連するプロジェクトのIDを設定します。

### 4. 表示確認
開発サーバーで変更内容を確認し、問題がなければビルドして最終確認します。

---

## 各手順の詳細

### 1. メタデータの更新

#### ファイルの場所
```
content/papers/paper-{id}-{slug}/
├── info/metadata.json    # 推奨：info/ディレクトリ内
└── metadata.json          # 代替：ディレクトリ直下
```

**注意**: システムはまず `info/metadata.json` を探し、見つからない場合は `metadata.json` を読み込みます。統一性のため、`info/metadata.json` を使用することを推奨します。

#### AIによる更新手順

1. **PDFファイルを読み込む**
   - ユーザーが提供したPDFファイルを読み込み
   - PDFから情報を抽出する準備を行う

2. **ディレクトリ構造を作成**
   - `paper-{id}-{slug}/` ディレクトリを作成
   - `info/` サブディレクトリを作成

3. **PDFから情報を抽出**
   - タイトル、著者、掲載先、発表年、abstract、キーワード、DOIなどを抽出
   - 自分の名前（「太田裕紀」）が含まれている場合、自動的に `**太田裕紀**` のように `**` で囲む

4. **メタデータファイルを作成・更新**
   - `info/metadata.json` を作成
   - 抽出した情報とユーザーが提供した情報を統合してメタデータを構築

#### メタデータの各項目の説明

| 項目 | 説明 | 必須 | 例 |
|------|------|------|-----|
| `id` | 論文の一意のID（プロジェクトの`relatedPapers`から参照されるため重複不可） | ✅ | `"paper1"` |
| `title` | 論文タイトル | ✅ | `"UMotion: Uncertainty-driven Human Motion Estimation"` |
| `venue` | 掲載先（会議名、ジャーナル名など） | ✅ | `"CVPR"` |
| `year` | 発表年（数値） | ✅ | `2025` |
| `authors` | 著者名（複数著者はカンマ区切り、自分の名前は`**太田裕紀**`のように`**`で囲むと太字表示） | ✅ | `"**太田裕紀**, 田中太郎, 山田花子"` |
| `relatedProjects` | 関連プロジェクトIDの配列 | ✅ | `["1"]` または `[]` |
| `language` | 表示言語 | ✅ | `"ja"`, `"en"`, または `"both"` |
| `categories` | カテゴリ情報（オブジェクト） | ✅ | 下記参照 |
| `url` | 論文のURL | ❌ | `"https://example.com/paper"` |
| `pdfUrl` | PDFファイルのURL | ❌ | `"https://example.com/paper.pdf"` |
| `doi` | DOI（Digital Object Identifier） | ❌ | `"10.1000/example"` または `"https://doi.org/10.1000/example"` |
| `slidesUrl` | スライドのURL | ❌ | `"https://example.com/slides.pdf"` |
| `posterUrl` | ポスターのURL | ❌ | `"https://example.com/poster.pdf"` |
| `award` | 受賞歴（あれば） | ❌ | `"Best Paper Award"` |
| `abstract` | Abstract（日英両方） | ❌ | `{ "ja": "日本語のabstract", "en": "English abstract" }` |
| `keywords` | キーワード（配列） | ❌ | `["Human Motion", "Inertial Sensors", "Ultra-wideband"]` |

#### `categories` オブジェクトの詳細

`categories` は以下の3つのフィールドを持ちます：

| フィールド | 説明 | 選択肢 | 例 |
|-----------|------|--------|-----|
| `scope` | 発表範囲 | `"国内"`, `"国際"`, `"学位論文"` | `"国際"` |
| `type` | 発表形態 | `"ジャーナル"`, `"会議"`, `"ワークショップ"` | `"会議"` |
| `peerReview` | 査読の有無 | `"査読付き"`, `"査読なし"` | `"査読付き"` |

#### 重要な注意点（AIが確認すべき点）

- **`id` の重複禁止**: プロジェクトの `relatedPapers` から参照されるため、既存のIDと重複しないように確認してください
- **`language` の設定**: ユーザーが指定した言語設定を使用（指定がない場合は `"both"` をデフォルトとして使用）
- **`relatedProjects`**: ユーザーが指定したプロジェクトIDが、プロジェクトデータ（`content/projects/`）に存在することを確認してください
- **著者名の太字表示**: 自分の名前（「太田裕紀」）が含まれている場合、自動的に `**太田裕紀**` のように `**` で囲んでください
- **`year` は数値**: `"2025"` ではなく `2025` のように数値で指定してください
- **Abstractの翻訳**: 日本語のabstractがない場合は、英語から翻訳して生成してください

#### 例：メタデータの更新

```json
{
  "id": "paper1",
  "title": "UMotion: Uncertainty-driven Human Motion Estimation from Inertial and Ultra-wideband Units",
  "venue": "CVPR",
  "year": 2025,
  "authors": "**Huakun Liu**, **太田裕紀**, Xin Wei, Yutaro Hirao, Monica Perusquia-Hernandez, Hideaki Uchiyama, Kiyoshi Kiyokawa",
  "relatedProjects": ["1"],
  "language": "both",
  "categories": {
    "scope": "国際",
    "type": "会議",
    "peerReview": "査読付き"
  },
  "url": "https://example.com/paper",
  "pdfUrl": "https://example.com/paper.pdf",
  "doi": "10.1000/example",
  "slidesUrl": "https://example.com/slides.pdf",
  "posterUrl": "",
  "award": "Best Paper Award",
  "abstract": {
    "ja": "慣性センサーとUltra-widebandユニットからの不確実性駆動型人間動作推定手法を提案する。",
    "en": "We propose an uncertainty-driven human motion estimation approach from inertial and ultra-wideband units."
  },
  "keywords": ["Human Motion", "Inertial Sensors", "Ultra-wideband", "Uncertainty Estimation"]
}
```

---

### 2. 関連リンクの追加・更新

#### リンクフィールドの説明

論文カードには以下のリンクボタンが表示されます（該当するフィールドが設定されている場合のみ）：

| フィールド | ボタンラベル | 用途 | 抽出元 |
|-----------|------------|------|--------|
| `url` | URL | 論文の公式ページへのリンク | PDFまたはユーザー提供 |
| `pdfUrl` | PDF | PDFファイルへのリンク | PDFがオンラインで公開されている場合 |
| `doi` | DOI | DOI（Digital Object Identifier）へのリンク | PDF |
| `slidesUrl` | Slides | スライド資料へのリンク | ユーザー提供 |
| `posterUrl` | Poster | ポスター資料へのリンク | ユーザー提供 |

#### AIによるリンクの設定方法

1. **PDFから抽出可能なリンクを設定**
   - `doi`: PDFにDOIが含まれている場合、抽出して設定
   - `url`: PDFにURLが含まれている場合、抽出して設定
   - `pdfUrl`: PDFファイルがオンラインで公開されている場合、URLを設定

2. **ユーザーが提供したリンクを設定**
   - `slidesUrl`: ユーザーが提供したスライドURLを設定
   - `posterUrl`: ユーザーが提供したポスターURLを設定

3. **リンクが不要な場合は空文字列にするか、フィールドを削除**
   ```json
   {
     "url": "",
     "pdfUrl": ""
   }
   ```

#### DOIの指定方法

DOIは以下の2つの形式で指定できます：

- **DOIのみ**: `"10.1000/example"`
- **フルURL**: `"https://doi.org/10.1000/example"`

どちらの形式でも動作しますが、フルURLの方が確実です。PDFから抽出した場合は、そのまま使用してください。

---

### 3. 関連プロジェクトの紐付け

#### `relatedProjects` フィールドの説明

`relatedProjects` は、この論文に関連するプロジェクトのIDを配列で指定します。

#### AIによる紐付け手順

1. **ユーザーが提供した関連プロジェクトIDを確認**
   - ユーザーが提供したプロジェクトIDの配列を使用
   - 例: `["1", "2"]` または `[]`

2. **プロジェクトIDの存在確認**
   - 指定されたプロジェクトIDが、プロジェクトデータ（`content/projects/`）に存在することを確認
   - 存在しないIDがある場合は、警告を表示（またはそのIDを除外）

3. **`metadata.json` の `relatedProjects` フィールドを設定**
   ```json
   {
     "relatedProjects": ["1", "2"]
   }
   ```

4. **関連がない場合は空配列を指定**
   ```json
   {
     "relatedProjects": []
   }
   ```

#### 双方向の紐付け（オプション）

- **論文側**: `relatedProjects` にプロジェクトIDを指定
- **プロジェクト側**: `relatedPapers` に論文IDを指定（オプション）

どちらか一方だけでも表示されますが、両方に設定すると、プロジェクト詳細ページと論文一覧ページの両方で関連情報が表示されます。プロジェクト側の更新は別途行ってください。

---

### 4. 表示確認

#### 開発サーバーでの確認

1. **開発サーバーを起動**
   ```bash
   npm run dev
   ```

2. **ブラウザで確認**
   - 論文一覧ページ: `http://localhost:3000/papers`
   - トップページ: `http://localhost:3000/`（最新3件が表示される場合）
   - プロジェクト詳細ページ: `http://localhost:3000/projects/{slug}`（関連論文が表示される場合）

3. **確認ポイント**
   - ✅ メタデータが正しく表示されているか
   - ✅ 著者名が正しく表示されているか（太字設定が反映されているか）
   - ✅ カテゴリタグ（国際、会議、査読付きなど）が正しく表示されているか
   - ✅ 関連リンク（URL、PDF、DOI、Slides、Poster）が正しく動作するか
   - ✅ 受賞歴が表示されているか（`award` フィールドが設定されている場合）
   - ✅ フィルタ（年、会議・ジャーナル、カテゴリ）で正しく絞り込めるか
   - ✅ 検索機能で正しく検索できるか
   - ✅ 日英両方の言語で正しく表示されるか（`language: "both"` の場合）
   - ✅ 関連プロジェクトが正しく表示されているか（プロジェクト詳細ページ）

#### ビルド確認

1. **ビルドを実行**
   ```bash
   npm run build
   ```

2. **ビルドが成功することを確認**
   - エラーが出ないことを確認
   - `dist/` ディレクトリにビルド成果物が生成されることを確認

3. **プレビューで確認**
   ```bash
   npm run preview
   ```
   - ビルド後のサイトをプレビューで確認

---

## よくある質問（FAQ）

### Q1. 論文が表示されない

**A**: 以下の点を確認してください：

1. **`language` の設定を確認**
   - `language` が `"both"` または現在の言語モードと一致しているか確認
   - 例: 日本語モードで表示したい場合は `"ja"` または `"both"`

2. **ファイルパスが正しいか確認**
   - `metadata.json` が `info/` ディレクトリまたはディレクトリ直下に存在するか
   - ファイル名が正しいか（`metadata.json`）

3. **JSONの構文エラーを確認**
   - `metadata.json` が正しいJSON形式になっているか
   - カンマの位置や引用符の閉じ忘れがないか

4. **開発サーバーを再起動**
   - ファイルを追加した場合は、開発サーバーを再起動してください

---

### Q2. 著者名が太字で表示されない

**A**: 以下の点を確認してください：

1. **太字記法が正しいか確認**
   - 自分の名前を `**太田裕紀**` のように `**` で囲む必要があります
   - 例: `"**太田裕紀**, 田中太郎"`

2. **引用符を確認**
   - `**` は文字列内に含める必要があります
   - 例: `"authors": "**太田裕紀**"`（正しい）
   - 例: `"authors": "**太田裕紀**"`（間違い：引用符が不足）

---

### Q3. カテゴリタグが表示されない

**A**: 以下の点を確認してください：

1. **`categories` オブジェクトが正しく設定されているか確認**
   - `scope`, `type`, `peerReview` の3つのフィールドがすべて存在するか
   - 各フィールドの値が正しい選択肢（`"国内"`, `"国際"`, `"会議"` など）になっているか

2. **値の形式を確認**
   - 文字列は必ずダブルクォートで囲む
   - 例: `"scope": "国際"`（正しい）
   - 例: `"scope": 国際`（間違い：クォートがない）

---

### Q4. 関連プロジェクトが表示されない

**A**: 以下の点を確認してください：

1. **プロジェクトIDが正しいか確認**
   - `relatedProjects` に指定したIDが、プロジェクトデータ（`content/projects/`）に存在するか
   - プロジェクトの `metadata.json` の `id` フィールドと一致しているか

2. **プロジェクトの `relatedPapers` も確認**
   - プロジェクト側の `relatedPapers` にも論文IDを追加すると、双方向で表示されます

3. **プロジェクトの `language` 設定を確認**
   - 関連プロジェクトの `language` が `"both"` または現在の言語モードと一致しているか

---

### Q5. リンクボタンが表示されない

**A**: 以下の点を確認してください：

1. **フィールドが設定されているか確認**
   - `url`, `pdfUrl`, `doi`, `slidesUrl`, `posterUrl` のいずれかが設定されているか
   - 空文字列（`""`）の場合はボタンは表示されません

2. **URLの形式を確認**
   - URLは `https://` または `http://` で始まる完全なURLである必要があります
   - 例: `"https://example.com/paper"`（正しい）
   - 例: `"example.com/paper"`（間違い：プロトコルがない）

---

### Q6. DOIリンクが動作しない

**A**: 以下の点を確認してください：

1. **DOIの形式を確認**
   - DOIのみ: `"10.1000/example"`
   - フルURL: `"https://doi.org/10.1000/example"`
   - どちらの形式でも動作しますが、フルURLの方が確実です

2. **DOIが正しいか確認**
   - DOIが実際に存在するか確認してください

---

### Q7. フィルタで絞り込めない

**A**: 以下の点を確認してください：

1. **カテゴリの値が正しいか確認**
   - `scope`: `"国内"`, `"国際"`, `"学位論文"` のいずれか
   - `type`: `"ジャーナル"`, `"会議"`, `"ワークショップ"` のいずれか
   - `peerReview`: `"査読付き"`, `"査読なし"` のいずれか
   - これらの値が正確に一致している必要があります（大文字小文字も含む）

2. **年フィルタを確認**
   - `year` フィールドが数値で設定されているか（文字列ではない）
   - 例: `2025`（正しい）
   - 例: `"2025"`（間違い：文字列）

3. **開発サーバーを再起動**
   - メタデータを変更した場合は、開発サーバーを再起動してください

---

### Q8. 検索機能で見つからない

**A**: 以下の点を確認してください：

1. **検索対象フィールドを確認**
   - 検索は `title`, `authors`, `venue` の3つのフィールドを対象としています
   - これらのフィールドに検索キーワードが含まれているか確認

2. **大文字小文字を確認**
   - 検索は大文字小文字を区別しませんが、完全一致ではありません（部分一致）
   - 例: "CVPR" で検索すると "CVPR" を含む論文が表示されます

---

### Q9. 受賞歴が表示されない

**A**: 以下の点を確認してください：

1. **`award` フィールドが設定されているか確認**
   - `award` フィールドに値が設定されているか
   - 空文字列（`""`）の場合は表示されません

2. **表示位置を確認**
   - 受賞歴は論文カードの右上にバッジとして表示されます
   - 論文カードの下部にも詳細が表示されます

---

### Q10. 新規論文を追加したい

**A**: 以下の手順で新規論文を追加できます：

1. **ユーザーが用意する情報**
   - 論文PDFファイル
   - カテゴリ情報（scope, type, peerReview）
   - 関連プロジェクトID（該当がある場合）
   - 言語設定（デフォルト: `"both"`）
   - スライドURL、ポスターURLなど（該当がある場合）

2. **AIが自動で実行する作業**
   - ディレクトリ構造の作成（`paper-{id}-{slug}/`）
   - PDFから情報の抽出（タイトル、著者、掲載先、発表年、abstract、キーワード、DOIなど）
   - メタデータファイルの作成（`info/metadata.json`）
   - ID、スラッグの生成（既存と重複しないことを確認）
   - Abstractの翻訳（日本語がない場合）

3. **AIが確認すべき点**
   - IDが既存論文と重複していないか
   - スラッグが既存論文と重複していないか
   - 必須フィールドがすべて設定されているか（`id`, `title`, `venue`, `year`, `authors`, `relatedProjects`, `language`, `categories`）
   - 関連プロジェクトIDが存在するか
   - 著者名に自分の名前が含まれている場合、`**` で囲まれているか

---

### Q11. 言語切替がうまくいかない

**A**: 以下の点を確認してください：

1. **`language` フィールドの設定を確認**
   - `"ja"`: 日本語モードでのみ表示
   - `"en"`: 英語モードでのみ表示
   - `"both"`: 日英両方のモードで表示

2. **ブラウザのキャッシュをクリア**
   - 開発中はブラウザのキャッシュが原因で古い内容が表示されることがあります

---

### Q12. ビルドエラーが発生する

**A**: 以下の点を確認してください：

1. **JSONファイルの構文エラーを確認**
   - `metadata.json` が正しいJSON形式になっているか
   - カンマの位置や引用符の閉じ忘れがないか
   - オンラインJSONバリデーターを使用して確認することを推奨

2. **必須フィールドが不足していないか確認**
   - 必須フィールド（`id`, `title`, `venue`, `year`, `authors`, `relatedProjects`, `language`, `categories`）がすべて設定されているか

3. **値の形式を確認**
   - `year` は数値（文字列ではない）
   - `relatedProjects` は配列形式
   - `categories` はオブジェクト形式

4. **エラーメッセージを確認**
   - ビルド時に表示されるエラーメッセージを確認し、該当箇所を修正

---

### Q13. カテゴリの翻訳が表示されない

**A**: 以下の点を確認してください：

1. **カテゴリの値が正しいか確認**
   - `scope`: `"国内"`, `"国際"`, `"学位論文"` のいずれか
   - `type`: `"ジャーナル"`, `"会議"`, `"ワークショップ"` のいずれか
   - `peerReview`: `"査読付き"`, `"査読なし"` のいずれか

2. **i18n設定を確認**
   - カテゴリの翻訳は `src/lib/i18n.ts` で管理されています
   - 新しいカテゴリ値を追加した場合は、`i18n.ts` にも追加が必要です

---

## トラブルシューティング

上記のFAQで解決しない場合は、以下を確認してください：

1. **開発サーバーのログを確認**
   - ブラウザのコンソールでエラーメッセージを確認
   - ターミナルの開発サーバー出力を確認

2. **ファイルの権限を確認**
   - ファイルが読み取り可能か確認

3. **Gitの状態を確認**
   - ファイルが正しくコミットされているか確認

4. **JSONバリデーターを使用**
   - オンラインJSONバリデーター（例: JSONLint）を使用して、`metadata.json` の構文を確認

---

## 関連ドキュメント

- [プロジェクト更新マニュアル](./projects-update.md)
- [ニュース更新マニュアル](./news-update.md)
- [README.md](../README.md)
